"use client";

interface StudioItem {
  icon: React.ReactNode;
  title: string;
  description: string;
  isSpecial?: boolean; // For FlexiBrez or other special items
}

interface WhatWeDoSectionProps {
  heading?: string;
  description?: string;
  items?: StudioItem[];
  className?: string;
}

export default function WhatWeDoSection({
  heading = "What We Do",
  description = "Utter Lore brings together knowledge, design, and intention to support thoughtful modern living.\nThrough Publishing, Digital, and FlexiBrez, we create content, experiences, and everyday essentials designed for clarity, balance, and long-term value.",
  items,
  className = "",
}: WhatWeDoSectionProps) {
  // Default items with icons
  const defaultItems: StudioItem[] = items || [
    {
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <path
            d="M20.625 18.6328C21.1406 18.8906 21.6055 19.207 22.0195 19.582C22.4336 19.957 22.7852 20.375 23.0742 20.8359C23.3633 21.2969 23.5898 21.7969 23.7539 22.3359C23.918 22.875 24 23.4297 24 24H22.5C22.5 23.3828 22.3828 22.8008 22.1484 22.2539C21.9141 21.707 21.5938 21.2305 21.1875 20.8242C20.7812 20.418 20.3008 20.0938 19.7461 19.8516C19.1914 19.6094 18.6094 19.4922 18 19.5C17.375 19.5 16.793 19.6172 16.2539 19.8516C15.7148 20.0859 15.2383 20.4062 14.8242 20.8125C14.4102 21.2188 14.0859 21.6992 13.8516 22.2539C13.6172 22.8086 13.5 23.3906 13.5 24H12C12 23.4297 12.0781 22.875 12.2344 22.3359C12.3906 21.7969 12.6172 21.2969 12.9141 20.8359C13.2109 20.375 13.5664 19.957 13.9805 19.582C14.3945 19.207 14.8594 18.8906 15.375 18.6328C14.7891 18.2109 14.332 17.6836 14.0039 17.0508C13.6758 16.418 13.5078 15.7344 13.5 15C13.5 14.3828 13.6172 13.8008 13.8516 13.2539C14.0859 12.707 14.4062 12.2305 14.8125 11.8242C15.2188 11.418 15.6953 11.0938 16.2422 10.8516C16.7891 10.6094 17.375 10.4922 18 10.5C18.6172 10.5 19.1992 10.6172 19.7461 10.8516C20.293 11.0859 20.7695 11.4062 21.1758 11.8125C21.582 12.2188 21.9062 12.6992 22.1484 13.2539C22.3906 13.8086 22.5078 14.3906 22.5 15C22.5 15.7344 22.3359 16.418 22.0078 17.0508C21.6797 17.6836 21.2188 18.2109 20.625 18.6328ZM18 18C18.4141 18 18.8008 17.9219 19.1602 17.7656C19.5195 17.6094 19.8398 17.3945 20.1211 17.1211C20.4023 16.8477 20.6172 16.5312 20.7656 16.1719C20.9141 15.8125 20.9922 15.4219 21 15C21 14.5859 20.9219 14.1992 20.7656 13.8398C20.6094 13.4805 20.3945 13.1602 20.1211 12.8789C19.8477 12.5977 19.5312 12.3828 19.1719 12.2344C18.8125 12.0859 18.4219 12.0078 18 12C17.5859 12 17.1992 12.0781 16.8398 12.2344C16.4805 12.3906 16.1602 12.6055 15.8789 12.8789C15.5977 13.1523 15.3828 13.4688 15.2344 13.8281C15.0859 14.1875 15.0078 14.5781 15 15C15 15.4141 15.0781 15.8008 15.2344 16.1602C15.3906 16.5195 15.6055 16.8398 15.8789 17.1211C16.1523 17.4023 16.4688 17.6172 16.8281 17.7656C17.1875 17.9141 17.5781 17.9922 18 18ZM12 18.9375C11.75 19.2266 11.5234 19.5273 11.3203 19.8398C11.1172 20.1523 10.9375 20.4883 10.7812 20.8477C10.3672 20.418 9.86719 20.0859 9.28125 19.8516C8.69531 19.6172 8.10156 19.5 7.5 19.5H3V4.5H1.5V21H10.7227C10.6133 21.2422 10.5234 21.4883 10.4531 21.7383C10.3828 21.9883 10.3242 22.2422 10.2773 22.5H0V3H3V1.5H7.5C8.1875 1.5 8.84766 1.60547 9.48047 1.81641C10.1133 2.02734 10.7031 2.34375 11.25 2.76562C11.7891 2.34375 12.375 2.02734 13.0078 1.81641C13.6406 1.60547 14.3047 1.5 15 1.5H19.5V3H22.5V10.5C22.0469 10.0547 21.5469 9.68359 21 9.38672V4.5H19.5V8.82422C19.25 8.75391 19 8.70312 18.75 8.67188C18.5 8.64062 18.25 8.625 18 8.625V3H15C14.4531 3 13.9219 3.09375 13.4062 3.28125C12.8906 3.46875 12.4219 3.74609 12 4.11328V18.9375ZM10.5 18.7852V4.11328C10.0781 3.75391 9.60938 3.48047 9.09375 3.29297C8.57812 3.10547 8.04688 3.00781 7.5 3H4.5V18H7.5C8.02344 18 8.53906 18.0664 9.04688 18.1992C9.55469 18.332 10.0391 18.5273 10.5 18.7852Z"
            fill="white"
          />
        </svg>
      ),
      title: "Publishing Studio",
      description:
        "Thoughtful editorial content and resources designed to inform, inspire, and remain relevant over time.",
      isSpecial: false,
    },
    {
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <path
            d="M4 8C4 5.172 4 3.757 5.004 2.879C6.008 2.001 7.624 2 10.857 2H13.143C16.375 2 17.992 2 18.996 2.879C20 3.757 20 5.172 20 8V17H4V8Z"
            stroke="white"
            strokeWidth="1.5"
            strokeLinejoin="round"
          />
          <path
            d="M3 17H21"
            stroke="white"
            strokeWidth="1.5"
            strokeLinecap="round"
          />
          <path
            d="M10.699 5.56602C11.929 5.39002 13.967 5.46002 12.28 7.15302C10.172 9.26802 7.008 14.029 10.699 12.443C14.389 10.855 15.971 11.913 14.389 13.5"
            stroke="white"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12 17V21M5 22L8 17M19 22L16 17"
            stroke="white"
            strokeWidth="1.5"
            strokeLinecap="round"
          />
        </svg>
      ),
      title: "Digital Studio",
      description:
        "End-to-end project design and content creation, delivering intentional digital experiences with clarity and purpose.",
      isSpecial: false,
    },
    {
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M12.4034 2.20541C12.357 2.14177 12.2962 2.09 12.226 2.0543C12.1558 2.01861 12.0782 2 11.9994 2C11.9206 2 11.843 2.01861 11.7728 2.0543C11.7026 2.09 11.6418 2.14177 11.5954 2.20541C11.5874 2.21591 11.3254 2.57641 11.0629 3.03541C10.9319 3.26441 10.7954 3.52741 10.6904 3.78991C10.5894 4.04291 10.4994 4.33891 10.4994 4.62141C10.4994 4.90341 10.5894 5.19941 10.6904 5.45241C10.7954 5.71491 10.9319 5.97741 11.0629 6.20691L11.1284 6.31991C10.9899 6.23095 10.8492 6.14542 10.7064 6.06341C10.4638 5.92172 10.2115 5.79724 9.95141 5.69091C9.69941 5.58991 9.40341 5.49991 9.12141 5.49991C8.83941 5.49991 8.54291 5.58991 8.28991 5.69091C8.02741 5.79591 7.76441 5.93241 7.53491 6.06341C7.07641 6.32591 6.71591 6.58841 6.70541 6.59591C6.64177 6.64231 6.59 6.70309 6.5543 6.7733C6.51861 6.8435 6.5 6.92115 6.5 6.99991C6.5 7.07867 6.51861 7.15631 6.5543 7.22652C6.59 7.29672 6.64177 7.35751 6.70541 7.40391C6.71591 7.41191 7.07641 7.67391 7.53541 7.93641C7.76441 8.06741 8.02741 8.20391 8.28991 8.30891C8.54291 8.40991 8.83891 8.49991 9.12141 8.49991C9.40341 8.49991 9.69941 8.40991 9.95241 8.30891C10.2123 8.20255 10.4644 8.07808 10.7069 7.93641C10.9789 7.78026 11.2433 7.61141 11.4994 7.43041V9.49991H8.99941C8.8668 9.49991 8.73962 9.55259 8.64585 9.64635C8.55209 9.74012 8.49941 9.8673 8.49941 9.99991C8.49941 10.1325 8.55209 10.2597 8.64585 10.3535C8.73962 10.4472 8.8668 10.4999 8.99941 10.4999H9.49941V12.6689C8.73918 13.1078 8.10791 13.7392 7.66906 14.4994C7.23021 15.2597 6.99926 16.1221 6.99941 16.9999C6.99941 19.7614 9.23791 21.9999 11.9994 21.9999C14.7609 21.9999 16.9994 19.7614 16.9994 16.9999C16.9996 16.1221 16.7686 15.2597 16.3298 14.4994C15.8909 13.7392 15.2596 13.1078 14.4994 12.6689V10.4999H14.9994C15.132 10.4999 15.2592 10.4472 15.353 10.3535C15.4467 10.2597 15.4994 10.1325 15.4994 9.99991C15.4994 9.8673 15.4467 9.74012 15.353 9.64635C15.2592 9.55259 15.132 9.49991 14.9994 9.49991H12.4994V7.43591C12.6104 7.51441 12.9154 7.72541 13.2844 7.93591C13.5139 8.06741 13.7769 8.20391 14.0394 8.30891C14.2924 8.40991 14.5884 8.49991 14.8709 8.49991C15.1529 8.49991 15.4489 8.40991 15.7019 8.30891C15.9618 8.20255 16.2139 8.07808 16.4564 7.93641C16.7417 7.77267 17.0187 7.59495 17.2864 7.40391C17.35 7.35751 17.4018 7.29672 17.4375 7.22652C17.4732 7.15631 17.4918 7.07867 17.4918 6.99991C17.4918 6.92115 17.4732 6.8435 17.4375 6.7733C17.4018 6.70309 17.35 6.64231 17.2864 6.59591C17.2754 6.58791 16.9154 6.32591 16.4564 6.06341C16.2138 5.92172 15.9615 5.79724 15.7014 5.69091C15.4494 5.58991 15.1534 5.49991 14.8714 5.49991C14.5894 5.49991 14.2929 5.58991 14.0399 5.69091C13.7774 5.79591 13.5144 5.93241 13.2849 6.06341C13.1349 6.14941 12.9954 6.23541 12.8749 6.31191L12.9364 6.20691C13.0674 5.97791 13.2039 5.71491 13.3089 5.45191C13.4099 5.19941 13.4999 4.90341 13.4999 4.62141C13.4999 4.33941 13.4099 4.04291 13.3089 3.78991C13.2026 3.52983 13.0781 3.27754 12.9364 3.03491C12.6739 2.57641 12.4109 2.21591 12.4034 2.20541ZM11.9314 3.53141L11.9994 3.41491L12.0679 3.53191C12.1859 3.73891 12.2979 3.95791 12.3799 4.16191C12.4649 4.37491 12.4994 4.52991 12.4994 4.62191C12.4994 4.71341 12.4649 4.86841 12.3794 5.08191C12.2984 5.28541 12.1859 5.50441 12.0679 5.71091L11.9994 5.82841L11.9309 5.71091C11.8129 5.50441 11.7009 5.28591 11.6189 5.08141C11.5339 4.86841 11.4994 4.71341 11.4994 4.62141C11.4994 4.52991 11.5339 4.37491 11.6194 4.16141C11.7004 3.95791 11.8129 3.73891 11.9309 3.53191M8.03091 7.06891L7.91441 6.99991L8.03141 6.93141C8.23841 6.81341 8.45741 6.70141 8.66141 6.61941C8.87441 6.53441 9.02941 6.49991 9.12141 6.49991C9.21291 6.49991 9.36791 6.53441 9.58141 6.61991C9.78491 6.70091 10.0039 6.81341 10.2104 6.93141L10.3279 6.99991L10.2104 7.06841C10.0039 7.18641 9.78541 7.29841 9.58091 7.38041C9.36791 7.46541 9.21291 7.49991 9.12091 7.49991C9.02941 7.49991 8.87441 7.46541 8.66091 7.37991C8.44403 7.29096 8.23368 7.18687 8.03141 7.06841M13.6644 6.99991L13.7814 7.06841C13.9884 7.18641 14.2074 7.29841 14.4114 7.38041C14.6244 7.46541 14.7794 7.49991 14.8714 7.49991C14.9629 7.49991 15.1179 7.46541 15.3314 7.37991C15.5349 7.29891 15.7539 7.18641 15.9604 7.06841L16.0779 6.99991L15.9604 6.93141C15.7539 6.81341 15.5354 6.70141 15.3309 6.61941C15.1179 6.53441 14.9629 6.49991 14.8709 6.49991C14.7794 6.49991 14.6244 6.53441 14.4109 6.61991C14.2074 6.70091 13.9884 6.81341 13.7814 6.93141L13.6644 6.99991ZM10.4994 10.4999H11.4994V15.4999H8.28991C8.62559 14.6729 9.22728 13.9813 9.99991 13.5344L10.4994 13.2454V10.4999ZM12.4994 10.4999V15.4999H15.7089C15.3732 14.6729 14.7715 13.9813 13.9989 13.5344L13.4994 13.2454V10.4999H12.4994ZM15.9684 16.4999H8.03041C7.95992 17.0628 8.00996 17.6342 8.17719 18.1762C8.34443 18.7182 8.62504 19.2185 9.0004 19.6438C9.37576 20.0691 9.83728 20.4097 10.3543 20.643C10.8714 20.8763 11.4322 20.9969 11.9994 20.9969C12.5667 20.9969 13.1274 20.8763 13.6445 20.643C14.1615 20.4097 14.6231 20.0691 14.9984 19.6438C15.3738 19.2185 15.6544 18.7182 15.8216 18.1762C15.9889 17.6342 16.0389 17.0628 15.9684 16.4999Z"
            fill="white"
          />
        </svg>
      ),
      title: "FlexiBrez Studio",
      description:
        "Flexible lifestyle essentials created to adapt to everyday life and support ease, balance, and mindful use.",
      isSpecial: true,
    },
  ];

  const displayItems = items || defaultItems;

  return (
    <section className={`w-full bg-white py-16 md:py-20 lg:py-24 ${className}`}>
      <div className="container mx-auto px-4 md:px-8 lg:px-12 xl:px-[80px]">
        <div className="flex flex-col items-center gap-8 md:gap-12">
          {/* Heading */}
          {heading && (
            <h2
              style={{
                fontFamily: "var(--font-bona-nova)",
                fontSize: "44px",
                fontStyle: "normal",
                fontWeight: 400,
                lineHeight: "normal",
                color: "#000",
                textAlign: "center",
              }}
            >
              {heading}
            </h2>
          )}

          {/* Description */}
          {description && (
            <p
              style={{
                fontFamily: "var(--font-inter)",
                fontSize: "18px",
                fontStyle: "normal",
                fontWeight: 400,
                lineHeight: "normal",
                color: "#212121",
                textAlign: "center",
                maxWidth: "1128px",
                width: "100%",
                whiteSpace: "pre-line",
              }}
            >
              {description}
            </p>
          )}

          {/* Cards */}
          {displayItems.length > 0 && (
            <div className="flex flex-wrap justify-center w-full mt-8" style={{ gap: "26px" }}>
              {displayItems.map((item, index) => (
                <div
                  key={index}
                  className="w-full sm:w-[calc(50%-13px)] lg:w-[395px]"
                  style={{
                    display: "flex",
                    padding: "24px",
                    flexDirection: "column",
                    alignItems: "flex-start",
                    gap: "11px",
                    alignSelf: "stretch",
                    borderRadius: "20px",
                    background:
                      "radial-gradient(43.04% 25.07% at 50% 50%, #F9F4FF 100%)",
                  }}
                >
                  {/* Icon */}
                  <div
                    style={{
                      display: "flex",
                      width: "43px",
                      height: "43px",
                      padding: "9px 9px 10px 10px",
                      justifyContent: "center",
                      alignItems: "center",
                      borderRadius: "36.441px",
                      background: "#69488F",
                    }}
                  >
                    <div
                      style={{
                        width: "24px",
                        height: "24px",
                        flexShrink: 0,
                        aspectRatio: "1/1",
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                      }}
                    >
                      {item.icon}
                    </div>
                  </div>

                  {/* Title */}
                  <h3
                    style={{
                      fontFamily: item.isSpecial
                        ? "var(--font-brunella)"
                        : "var(--font-bona-nova)",
                      fontSize: "28px",
                      fontStyle: "normal",
                      fontWeight: 400,
                      lineHeight: "normal",
                      color: "#000",
                    }}
                  >
                    {item.title}
                  </h3>

                  {/* Description */}
                  <p
                    style={{
                      fontFamily: "var(--font-bona-nova)",
                      fontSize: "16px",
                      fontStyle: "normal",
                      fontWeight: 400,
                      lineHeight: "normal",
                      color: "#212121",
                      alignSelf: "stretch",
                    }}
                  >
                    {item.description}
                  </p>
                </div>
              ))}
            </div>
          )}
        </div>
      </div>
    </section>
  );
}

